# 혼자서 할 수 있는 블록체인

블록체인? 마치 명품매장을 방불케 하였다.
우연히 10여년 전 이더리움을 발견하게 되었다. 무엇일까? 호기심이 생겨났다.

저자는 다수 금융권의 차세대 시스템 구축 사업에 참여한 경험이 있다. 지급, 결제, 입출금 등이 얼마나 중요하고, 그 어떤 실수도 허용이 되지 않는 핵심이라는 것을 잘 알고 있다.

시스템을 구축하면서 외국의 사례를 참조하거나, 국내외 금융 사업에서 검증된 플랫폼을 도입하기도 한다. 이러한 금융 플랫폼을 암호화폐는 이미 제공하고 있다는 것이 흥미로웠다.

비트코인에서의 블록체인은 데이터저장소로 활용되었다. 최근 블록체인은 프로그램을 할 수 있는 금융 플랫폼으로 발전하고 있다.

블록체인은 **분산원장**이다. 용어에서 쓰인 **분산**이란 어떤 집중된 서버에서 서비스를 제공하지 않고, **처리능력이 흩어져 불특정 컴퓨터에 존재**한다는 의미이다. **원장**이란 발생하는 처리내용을 기록한다는 것이다. 즉 블록체인은 **어떤 거래가 발생하면, 분산네트워크에 존재하는 불특정 컴퓨터가 이를 처리하고 기록**한다는 것이다. 이런 분산원장이 뭐 특별하지 하고 고개를 갸우뚱할 수 있다. 특별한 점을 부각 한다면 기존 방식과 현격하게 다르다는 것이다.

우선은 **화폐**를 내장하고 있다는 점이 특별나다. 이런 화폐에 대해 사람들은 투자의 대상으로 여기고 큰 관심을 보이고 있다. 가격이 급등락하면서, 과연 내재가치가 있는지에 대한 논의가 뜨겁기도 하다. 지금까지 그 어떤 거래도 은행, 카드 등 금융기관에서 제공하는 플랫폼을 이용하지 않고는 가능하지 못했다. 보통 결제는 은행, 카드 그리고 요즘에는 모바일페이 등을 이용해 이루어진다. 반면에 비트코인, 이더리움과 같은 암호화폐는 이러한 신뢰할만한 기관을 거치지 않고 거래가 처리되고, 블록체인에 기록된다. 블록체인을 사용하면 이러한 **금융기관을 경유하지 않고 양자간 거래가 성립**할 수 있다는 것이다. 

또한 **분산형**이라는 점이 기존 방식과의 큰 차별성이다. **중앙처리장치가 없어서 누구나** 그 기록을 처리하고, 저장한다는 점이다. 그 뿐 아니라 그 처리과정이 투명하고 매우 민주적이어서 **합의**를 통해 거래가 인정된다는 점이다. 중앙처리에서와 같이 특정 서버로 하여금 거래를 처리하지 않고, 어느 컴퓨터가 처리할지 정해지기 전까지는 모르는 **불특정 처리**가 이루어지게 된다. 이렇게 거래가 성사되어 한 번 저장이 되면 그 내용을 **위변조할 수가 없다**는 점도 해킹에 불안한 사람들에게는 매우 매력적으로 들리게 된다.

이 책에서는 블록체인이 무엇인지, 어떻게 기록이 암호화, 인증, 합의, 저장되는지 배우게 된다. 필요한 이론을 배우기도 하겠지만, 프로그래밍으로 실제 해보게 된다. 블록체인 관련 가장 많이 쓰이고 있는 **Ethereum**을 활용하여, 스마트계약을 만들고,  분산환경에서 블록체인으로 거래하고, 지급결제를 처리하는 것을 프로그래밍하게 된다. 최근 관심을 끌고 있는 DeFi, NFT, 웹3를 제작하는 것도 해본다.분산앱 DApp을 개발하게 된다.

## 챕터별 내용

주차 | 목표 | 내용
-----|-----|-----
주 1 | 소개 | 강의 소개
1 장 | 블록체인 소개 | 분산, 합의, 암호화페, 블록체인, 블록체인기반 화폐
2장 | 설치 geth | 스마트컨트랙, 설치, 이더리움 노드 설정
3장 | geth 네트워크 | 공중망, 사적망
4장 | 계정 | 계정, 지갑, 암호화
5장 | 거래  |  트랜잭션, 마이닝, gas
6장 | 웹3 | Solidity, Remix, solc, web3.js 개발
7장 | Hello project | Hello 프로젝트, 단순 저장, 계산 프로젝트, Solidity, Remix, solc, web3.js 개발
8장 | Solidity | 변수, 데이터 타잎
9장 | Solidity | 함수 fallback, modifier
10장 | Solidity | 제어구조, 데이터구조
11장 | Solidity | 컨트랙 결합, import, library
12장 | DApp | DeFi
13장 | DApp | NFT
14장 | Web3 | 투표 웹디앱
부록 | 질의 응답


## 책의 특징

블록체인 프로그래밍 강의는 아직 많이 보급되지 않았다. 교육과정으로 채택하고 있는 대학도 많지 않다. 이 책은 2016년부터 강의 내용을 묶은 것이다.

geth, ganache, web3, solidity 필요한 기술을 적용하고 있다.

truffle 등 개발도구를 사용하지 않는다.

온라인 질문 사이트를 제공한다.

```python
https://gitter.im/smu405/e12
```

## 필요한 것

우리는 프로그래밍을 실제 하기 때문에 **컴퓨터**가 당연히 필요하다. 윈도우, 맥 OSX, 리눅스 어느 운영체제도 무관하지만 리눅스 운영체제를 사용하는 것이 좋다.

또한 프로그래밍 지식이 필요하다. 블록체인은 클라이언트-서버에서의 프로그래밍과는 물론 다르다. 앞서 설명한 바와같이 서버가 정해져 있지 않기 때문이다. 그러나 그 아키텍쳐에서 클라이언트와 서버가 분리되어 있는 것처럼 클라이언트는 **Javascript**, Python 등을 서버에서는 **Solidity** 언어를 사용하게 된다. 이렇게 만들어진 블록체인 프로그램을 dApp (Distributed Application)이라고 한다. dApp은 서버프로그램을 Solidity로 개발하고, 클라이언트를 Javascript 등 복수의 언어를 사용하는 것과 유사하게 여러 언어를 혼합해야 완성이 될 수 있다.

## 누가 읽어야 하나

이 책은 **암호화폐 투자와 관련한 내용이 아니다**. 또한 블록체인의 경제적, 행정적 이론을 배우는 것이 아니다. 블록체인이라는 새로운 매체에서 발생하는 금융거래를 프로그래밍으로 처리하는 내용을 다루고 있다. 기존의 온라인 결제, NFC 현장결제 등과 같은 방식과 같이 블록체인에서의 거래를 프로그램으로 만들어 보게 된다.
이 책은:
- 암호화폐와 같은 플랫폼에서의 거래가 어떻게 이루어지는지 배우고 싶거나
- 실제 무엇인가 분산앱 DApp을 개발하려고 하거나
- 특히, **물류 유통**에서와 같이 다자가 정보를 투명하게 공유해야 하거나, **개인ID**와 같이 강력한 보안이 필요하거나, **졸업증명서**와 같이 기록이 필요한 경우 등 등 창의적으로 프로젝트를 수행하고 싶은 경우

## 표기

* 굵은 글씨는 중요한 단어, 
* 코드에 대해서는 다른 글씨체 ```int x```
* ```( )```: 반드시 적어주어야 하는 경우
* ```[ ]```: 선택적으로 적어주는 경우, 적어줄 때 ```[]``` 괄호는 제거한다.
* ```{ }```:  선택적으로 적어주지만 하나는 반드시 적어주어야 하는 경우, 적어줄 때 ```{}``` 괄호는 제거한다.
* 수직 심볼 ```|```: 선택적으로 적어주는 경우 ```OR```를 의미한다. 
* 이탤릭체 - 사용자가 값을 제공해야 하는 정보
```python
function (*int x*) {internal|external} [pure|constant|view|payable] [returns (return types)] varName;
```
* 코드의 한글 - 사용자가 값을 제공해야 하는 정보
* 커멘트 - 도움말 기호로 시작하거나 한글로 적음


프롬프트
geth>
node>
>>> python
pjt_dir>

geth@8445
gananche
